<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Notes on the Hugo PaperMod theme | HEMB</title>
<meta name="keywords" content="papermod, hugo, website, fuzzy_search">
<meta name="description" content="Summary This website uses the Hugo PaperMod theme. You can find few debugging and research notes below.
Search Debugging When setting up the website, we had a few bugs with PaperMod&rsquo;s search functionality.
There is a small wiki section on search. If you use languages in your config.yaml (or hugo.yaml), make sure you name the search file content/search.en.md. Related post Search calibration and algorithm Current parameters for search:
fuseOpts: isCaseSensitive: false includeScore: false shouldSort: true location: 0 distance: 1000 threshold: 0.">
<meta name="author" content="DefJM">
<link rel="canonical" href="https://defjm.github.io/hemb/posts/20240123_hugo-papermod-setup/">
<link crossorigin="anonymous" href="/hemb/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://defjm.github.io/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://defjm.github.io/hemb/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://defjm.github.io/hemb/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://defjm.github.io/hemb/apple-touch-icon.png">
<link rel="mask-icon" href="https://defjm.github.io/hemb/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Notes on the Hugo PaperMod theme" />
<meta property="og:description" content="Summary This website uses the Hugo PaperMod theme. You can find few debugging and research notes below.
Search Debugging When setting up the website, we had a few bugs with PaperMod&rsquo;s search functionality.
There is a small wiki section on search. If you use languages in your config.yaml (or hugo.yaml), make sure you name the search file content/search.en.md. Related post Search calibration and algorithm Current parameters for search:
fuseOpts: isCaseSensitive: false includeScore: false shouldSort: true location: 0 distance: 1000 threshold: 0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://defjm.github.io/hemb/posts/20240123_hugo-papermod-setup/" />
<meta property="og:image" content="https://defjm.github.io/hemb/images/papermod-cover.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-01-23T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://defjm.github.io/hemb/images/papermod-cover.png" />
<meta name="twitter:title" content="Notes on the Hugo PaperMod theme"/>
<meta name="twitter:description" content="Summary This website uses the Hugo PaperMod theme. You can find few debugging and research notes below.
Search Debugging When setting up the website, we had a few bugs with PaperMod&rsquo;s search functionality.
There is a small wiki section on search. If you use languages in your config.yaml (or hugo.yaml), make sure you name the search file content/search.en.md. Related post Search calibration and algorithm Current parameters for search:
fuseOpts: isCaseSensitive: false includeScore: false shouldSort: true location: 0 distance: 1000 threshold: 0."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://defjm.github.io/hemb/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Notes on the Hugo PaperMod theme",
      "item": "https://defjm.github.io/hemb/posts/20240123_hugo-papermod-setup/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Notes on the Hugo PaperMod theme",
  "name": "Notes on the Hugo PaperMod theme",
  "description": "Summary This website uses the Hugo PaperMod theme. You can find few debugging and research notes below.\nSearch Debugging When setting up the website, we had a few bugs with PaperMod\u0026rsquo;s search functionality.\nThere is a small wiki section on search. If you use languages in your config.yaml (or hugo.yaml), make sure you name the search file content/search.en.md. Related post Search calibration and algorithm Current parameters for search:\nfuseOpts: isCaseSensitive: false includeScore: false shouldSort: true location: 0 distance: 1000 threshold: 0.",
  "keywords": [
    "papermod", "hugo", "website", "fuzzy_search"
  ],
  "articleBody": "Summary This website uses the Hugo PaperMod theme. You can find few debugging and research notes below.\nSearch Debugging When setting up the website, we had a few bugs with PaperMod’s search functionality.\nThere is a small wiki section on search. If you use languages in your config.yaml (or hugo.yaml), make sure you name the search file content/search.en.md. Related post Search calibration and algorithm Current parameters for search:\nfuseOpts: isCaseSensitive: false includeScore: false shouldSort: true location: 0 distance: 1000 threshold: 0.6 minMatchCharLength: 0 keys: [\"title\", \"permalink\", \"summary\", \"content\"] PaperMod uses fuse.js for its fuzzy search. Options to calibrate are described here. Read about the fuse.js scoring theory here. Under the hood, fuse.js uses the Bitap algorithm. Weights PaperMod explains it here. Weight is used to control the positioning of entries. The Hugo Wiki:\nA non-zero integer indicating the entry’s position relative the root of the menu, or to its parent for a child entry. Lighter entries float to the top, while heavier entries sink to the bottom.\nFor example, we sort our top right menu as follows:\nbuttons: - name: Posts url: posts weight: 10 - name: Search url: search weight: 20 - name: Tags url: tags weight: 30 - name: Archives url: archives weight: 40 Page header template Each post has a dedicated section for metadata. Here is the one for this post:\n--- author: [\"DefJM\"] title: \"Hugo PaperMod setup\" date: 2024-01-23 draft: false tags: [\"papermod\", \"hugo\", \"website\", \"fuzzy_search\"] cover: image: images/papermod-cover.png hiddenInList: true --- ",
  "wordCount" : "246",
  "inLanguage": "en",
  "image":"https://defjm.github.io/hemb/images/papermod-cover.png","datePublished": "2024-01-23T00:00:00Z",
  "dateModified": "2024-01-23T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "DefJM"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://defjm.github.io/hemb/posts/20240123_hugo-papermod-setup/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "HEMB",
    "logo": {
      "@type": "ImageObject",
      "url": "https://defjm.github.io/assets/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://defjm.github.io/hemb/" accesskey="h" title="HEMB (Alt + H)">HEMB</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://defjm.github.io/hemb/posts" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://defjm.github.io/hemb/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://defjm.github.io/hemb/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://defjm.github.io/hemb/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://defjm.github.io/hemb/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://defjm.github.io/hemb/imprint" title="Imprint">
                    <span>Imprint</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://defjm.github.io/hemb/">Home</a>&nbsp;»&nbsp;<a href="https://defjm.github.io/hemb/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Notes on the Hugo PaperMod theme
    </h1>
    <div class="post-meta"><span title='2024-01-23 00:00:00 +0000 UTC'>January 23, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;DefJM&nbsp;|&nbsp;<a href="https://github.com/defjm/hemb/blob/main/content/posts/20240123_hugo-papermod-setup.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> 
<figure class="entry-cover">
        <img loading="eager" srcset="https://defjm.github.io/hemb/images/papermod-cover_hu5a3b6266abb2c4d5448bc8a769943128_87965_360x0_resize_box_3.png 360w ,https://defjm.github.io/hemb/images/papermod-cover_hu5a3b6266abb2c4d5448bc8a769943128_87965_480x0_resize_box_3.png 480w ,https://defjm.github.io/hemb/images/papermod-cover_hu5a3b6266abb2c4d5448bc8a769943128_87965_720x0_resize_box_3.png 720w ,https://defjm.github.io/hemb/images/papermod-cover_hu5a3b6266abb2c4d5448bc8a769943128_87965_1080x0_resize_box_3.png 1080w ,https://defjm.github.io/hemb/images/papermod-cover.png 1200w" 
            sizes="(min-width: 768px) 720px, 100vw" src="https://defjm.github.io/hemb/images/papermod-cover.png" alt="" 
            width="1200" height="628">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#summary" aria-label="Summary">Summary</a></li>
                <li>
                    <a href="#search" aria-label="Search">Search</a><ul>
                        
                <li>
                    <a href="#debugging" aria-label="Debugging">Debugging</a></li>
                <li>
                    <a href="#search-calibration-and-algorithm" aria-label="Search calibration and algorithm">Search calibration and algorithm</a></li></ul>
                </li>
                <li>
                    <a href="#weights" aria-label="Weights">Weights</a></li>
                <li>
                    <a href="#page-header-template" aria-label="Page header template">Page header template</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="summary">Summary<a hidden class="anchor" aria-hidden="true" href="#summary">#</a></h2>
<p>This website uses the <a href="https://github.com/adityatelange/hugo-PaperMod">Hugo PaperMod theme</a>. You can find few debugging and research notes below.</p>
<h2 id="search">Search<a hidden class="anchor" aria-hidden="true" href="#search">#</a></h2>
<h3 id="debugging">Debugging<a hidden class="anchor" aria-hidden="true" href="#debugging">#</a></h3>
<p>When setting up the website, we had a few bugs with PaperMod&rsquo;s search functionality.</p>
<ul>
<li>There is a small <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/Features#search-page">wiki section</a> on search.</li>
<li>If you use languages in your <code>config.yaml</code> (or <code>hugo.yaml</code>), make sure you name the search file <code>content/search.en.md</code>.</li>
<li>Related <a href="https://discourse.gohugo.io/t/search-on-papermod-theme/36036">post</a></li>
</ul>
<h3 id="search-calibration-and-algorithm">Search calibration and algorithm<a hidden class="anchor" aria-hidden="true" href="#search-calibration-and-algorithm">#</a></h3>
<p>Current parameters for search:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">fuseOpts</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">isCaseSensitive</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">includeScore</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">shouldSort</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">location</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">distance</span>: <span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">threshold</span>: <span style="color:#ae81ff">0.6</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">minMatchCharLength</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">keys</span>: [<span style="color:#e6db74">&#34;title&#34;</span>, <span style="color:#e6db74">&#34;permalink&#34;</span>, <span style="color:#e6db74">&#34;summary&#34;</span>, <span style="color:#e6db74">&#34;content&#34;</span>]
</span></span></code></pre></div><ul>
<li>PaperMod uses <code>fuse.js</code> for its fuzzy search.</li>
<li>Options to calibrate are described <a href="https://www.fusejs.io/api/options.html">here</a>.</li>
<li>Read about the <code>fuse.js</code> scoring theory <a href="https://www.fusejs.io/concepts/scoring-theory.html">here</a>.</li>
<li>Under the hood, <code>fuse.js</code> uses the <a href="https://en.wikipedia.org/wiki/Bitap_algorithm">Bitap algorithm</a>.</li>
</ul>
<h2 id="weights">Weights<a hidden class="anchor" aria-hidden="true" href="#weights">#</a></h2>
<p>PaperMod explains it <a href="https://adityatelange.github.io/hugo-PaperMod/posts/papermod/papermod-faq/#add-menu-to-site">here</a>. Weight is used to control the positioning of entries. The <a href="https://gohugo.io/content-management/menus/#properties-front-matter">Hugo Wiki</a>:</p>
<blockquote>
<p>A non-zero integer indicating the entry’s position relative the root of the menu, or to its parent for a child entry. Lighter entries float to the top, while heavier entries sink to the bottom.</p>
</blockquote>
<p>For example, we sort our top right menu as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">buttons</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Posts</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">url</span>: <span style="color:#ae81ff">posts</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">weight</span>: <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Search</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">url</span>: <span style="color:#ae81ff">search</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">weight</span>: <span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Tags</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">url</span>: <span style="color:#ae81ff">tags</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">weight</span>: <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Archives</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">url</span>: <span style="color:#ae81ff">archives</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">weight</span>: <span style="color:#ae81ff">40</span>
</span></span></code></pre></div><h2 id="page-header-template">Page header template<a hidden class="anchor" aria-hidden="true" href="#page-header-template">#</a></h2>
<p>Each post has a dedicated section for metadata. Here is the one for this post:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#f92672">author</span>: [<span style="color:#e6db74">&#34;DefJM&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">title</span>: <span style="color:#e6db74">&#34;Hugo PaperMod setup&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">date</span>: <span style="color:#e6db74">2024-01-23</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">draft</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">tags</span>: [<span style="color:#e6db74">&#34;papermod&#34;</span>, <span style="color:#e6db74">&#34;hugo&#34;</span>, <span style="color:#e6db74">&#34;website&#34;</span>, <span style="color:#e6db74">&#34;fuzzy_search&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">cover</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">images/papermod-cover.png</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">hiddenInList</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>---
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://defjm.github.io/hemb/tags/papermod/">papermod</a></li>
      <li><a href="https://defjm.github.io/hemb/tags/hugo/">hugo</a></li>
      <li><a href="https://defjm.github.io/hemb/tags/website/">website</a></li>
      <li><a href="https://defjm.github.io/hemb/tags/fuzzy_search/">fuzzy_search</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://defjm.github.io/hemb/posts/20240127_ctf-llm-part1/">
    <span class="title">« Prev</span>
    <br>
    <span>CTFs on AI? - Part 1: LLM Prompt Injection Attacks - Gandalf &amp; LLM CTF SaTML 2024</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://defjm.github.io/hemb/">HEMB</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
